# 새로운 파일 추가 방법

1. 적절한 `pdf`파일을 CAD files 디렉토리에 넣는다.
2. `python api/splitter.py` 를 실행하여 `pdf`파일을 `png`이미지파일로 변환한다.
3. 이미지파일 중 표지, 목차 등 무의미한 파일들을 제거한다.
4. 이미지파일의 맨 마지막의 숫자를 적절한 의미로 바꾼다.
   - 예) `아산천안 1공구_3309_3937_1.png` -> `아산천안 1공구_3309_3937_당진방향 0+800~1+600.png`
5. `python api/convert.py` 를 실행하여 `png`파일들을 데이터베이스에 등록한다.

물론 위 과정을 전부 자동화할 수도 있다. 그러나 이렇게 분리한 이유는 `pdf`형식으로 주어지는 CAD 파일들의 구성을 알 수 없기 때문이다.
예를 들어 어떤 파일은 한 개의 도면만 가지고 있지만, 어떤 파일들은 도면을 여러 개 가지고있다. 또는 표지나 목차를 가진 파일이 있을 수 있다.
이런 경우에 필요없는 페이지들을 제거하기 위해 위와 같이 두 단계에 걸친 변환을 설계했다.

현재는 이것을 전부 CLI로 처리하고 있다. 추후 GUI로 개선할 예정이다.
